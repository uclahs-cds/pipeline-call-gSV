<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Inputs - pipeline-call-gSV</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Inputs";
        var mkdocs_page_input_path = "inputs.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> pipeline-call-gSV
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../overview/">Overview</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../how-to-run/">How To Run</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../flow-diagram/">Flow Diagram</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../pipeline-steps/">Pipeline Steps</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Inputs</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#input-yaml">Input YAML</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#nextflow-config-file-parameters">Nextflow Config File Parameters</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#base-resource-allocation-updaters">Base resource allocation updaters</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../outputs/">Outputs</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../testing-and-validation/">Testing and Validation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../references/">References</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../contributors/">Contributors</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../license/">License</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">pipeline-call-gSV</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Inputs</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/uclahs-cds/pipeline-call-gSV/blob/b79ae6d61c9ca945e61a0229fc0e01eae441c36a/README.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="inputs">Inputs</h2>
<h3 id="input-yaml">Input YAML</h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Field</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">sample_id</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Sample ID</td>
</tr>
<tr>
<td style="text-align: left;">normal</td>
<td style="text-align: left;">path</td>
<td style="text-align: left;">Set to absolute path to input BAM</td>
</tr>
</tbody>
</table>
<pre><code>---
input:
  BAM:
    normal:
      - &quot;/path/to/input/BAM&quot;
</code></pre>
<blockquote>
<p>Note: This pipeline is designed to detect germline SVs. To maintain consistency with other Boutros Lab Nextflow pipelines, the input YAML format mirrors that of other somatic or germline variant calling pipelines. However, it's important to note that the sample type tags, whether labeled as <code>normal</code> or <code>tumor</code>, do NOT influence the germline SV/CNV calling processes in this pipeline.</p>
</blockquote>
<h3 id="nextflow-config-file-parameters">Nextflow Config File Parameters</h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Input Parameter</th>
<th style="text-align: left;">Required</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>dataset_id</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Boutros lab dataset id.</td>
</tr>
<tr>
<td style="text-align: left;"><code>blcds_registered_dataset</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">boolean</td>
<td style="text-align: left;">Affirms if dataset should be registered in the Boutros Lab Data registry. Default value is <code>false</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>genome_build</code></td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Genome build for circos plot, <code>hg19</code> or <code>hg38</code>. Default is set to <code>hg38</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>variant_type</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">list</td>
<td style="text-align: left;">List containing variant types to call. Default is <code>["gSV", "gCNV"]</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>run_discovery</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">boolean</td>
<td style="text-align: left;">Specifies whether or not to run the "disovery" branch of the pipeline. Default value is <code>true</code>. (either <code>run_discovery</code> or <code>run_regenotyping</code> must be <code>true</code>)</td>
</tr>
<tr>
<td style="text-align: left;"><code>run_regenotyping</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">boolean</td>
<td style="text-align: left;">Specifies whether or not to run the "regenotyping" branch of the pipeline. Default value is <code>false</code>. (either <code>run_discovery</code> or <code>run_regenotyping</code> must be <code>true</code>)</td>
</tr>
<tr>
<td style="text-align: left;"><code>merged_sites</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">path</td>
<td style="text-align: left;">The path to the merged sites.bcf file. Must be populated if running the regenotyping branch.</td>
</tr>
<tr>
<td style="text-align: left;"><code>run_delly</code></td>
<td style="text-align: left;">true</td>
<td style="text-align: left;">boolean</td>
<td style="text-align: left;">Whether or not the workflow should run Delly (either run_delly or run_manta must be set to <code>true</code>)</td>
</tr>
<tr>
<td style="text-align: left;"><code>run_manta</code></td>
<td style="text-align: left;">true</td>
<td style="text-align: left;">boolean</td>
<td style="text-align: left;">Whether or not the workflow should run Manta (either run_delly or run_manta must be set to <code>true</code>)</td>
</tr>
<tr>
<td style="text-align: left;"><code>run_qc</code></td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">boolean</td>
<td style="text-align: left;">Optional parameter to indicate whether subsequent quality checks should be run on Delly outputs. Default value is <code>false</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>reference_fasta</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">path</td>
<td style="text-align: left;">Absolute path to the reference genome <code>FASTA</code> file. The reference genome is used by Delly for SV calling.</td>
</tr>
<tr>
<td style="text-align: left;"><code>exclusion_file</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">path</td>
<td style="text-align: left;">Absolute path to the delly reference genome <code>exclusion</code> file utilized to remove suggested regions for SV calling. On Slurm, an HG38 exclusion file is located at <code>/hot/resource/tool-specific-input/Delly/hg38/human.hg38.excl.tsv</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>mappability_map</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">path</td>
<td style="text-align: left;">Absolute path to the delly mappability map to support GC and mappability fragment correction in CNV calling</td>
</tr>
<tr>
<td style="text-align: left;"><code>map_qual</code></td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">path</td>
<td style="text-align: left;">minimum paired-end (PE) mapping quaility threshold for Delly.</td>
</tr>
<tr>
<td style="text-align: left;"><code>save_intermediate_files</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">boolean</td>
<td style="text-align: left;">Optional parameter to indicate whether intermediate files will be saved. Default value is <code>false</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>output_dir</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">path</td>
<td style="text-align: left;">Absolute path to the directory where the output files to be saved.</td>
</tr>
<tr>
<td style="text-align: left;"><code>work_dir</code></td>
<td style="text-align: left;">optional</td>
<td style="text-align: left;">path</td>
<td style="text-align: left;">Path of working directory for Nextflow. When included in the sample config file, Nextflow intermediate files and logs will be saved to this directory. With <code>ucla_cds</code>, the default is <code>/scratch</code> and should only be changed for testing/development. Changing this directory to <code>/hot</code> or <code>/tmp</code> can lead to high server latency and potential disk space limitations, respectively.</td>
</tr>
<tr>
<td style="text-align: left;"><code>docker_container_registry</code></td>
<td style="text-align: left;">optional</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Registry containing tool Docker images. Default: <code>ghcr.io/uclahs-cds</code></td>
</tr>
</tbody>
</table>
<p>An example of the NextFlow Input Parameters Config file can be found <a href="https://github.com/uclahs-cds/pipeline-call-gSV/blob/b79ae6d61c9ca945e61a0229fc0e01eae441c36a/config/template.config">here</a>.</p>
<h3 id="base-resource-allocation-updaters">Base resource allocation updaters</h3>
<p>To optionally update the base resource (cpus or memory) allocations for processes, use the following structure and add the necessary parts to the <a href="https://github.com/uclahs-cds/pipeline-call-gSV/blob/b79ae6d61c9ca945e61a0229fc0e01eae441c36a/config/template.config">input.config</a> file. The default allocations can be found in the <a href="https://github.com/uclahs-cds/pipeline-call-gSV/blob/b79ae6d61c9ca945e61a0229fc0e01eae441c36a/config">node-specific config files</a></p>
<pre><code class="language-Nextflow">base_resource_update {
    memory = [
        [['process_name', 'process_name2'], &lt;multiplier for resource&gt;],
        [['process_name3', 'process_name4'], &lt;different multiplier for resource&gt;]
    ]
    cpus = [
        [['process_name', 'process_name2'], &lt;multiplier for resource&gt;],
        [['process_name3', 'process_name4'], &lt;different multiplier for resource&gt;]
    ]
}
</code></pre>
<blockquote>
<p><strong>Note</strong> Resource updates will be applied in the order they're provided so if a process is included twice in the memory list, it will be updated twice in the order it's given.
Examples:</p>
</blockquote>
<ul>
<li>To double memory of all processes:</li>
</ul>
<pre><code class="language-Nextflow">base_resource_update {
    memory = [
        [[], 2]
    ]
}
</code></pre>
<ul>
<li>To double memory for <code>call_gSV_Delly</code> and triple memory for <code>run_validate_PipeVal</code> and <code>call_gSV_Manta</code>:</li>
</ul>
<pre><code class="language-Nextflow">base_resource_update {
    memory = [
        ['call_gSV_Delly', 2],
        [['run_validate_PipeVal', 'call_gSV_Manta'], 3]
    ]
}
</code></pre>
<ul>
<li>To double CPUs and memory for <code>call_gSV_Manta</code> and double memory for <code>run_validate_PipeVal</code>:</li>
</ul>
<pre><code class="language-Nextflow">base_resource_update {
    cpus = [
        ['call_gSV_Manta', 2]
    ]
    memory = [
        [['call_gSV_Manta', 'run_validate_PipeVal'], 2]
    ]
}
</code></pre>
<hr />
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../pipeline-steps/" class="btn btn-neutral float-left" title="Pipeline Steps"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../outputs/" class="btn btn-neutral float-right" title="Outputs">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/uclahs-cds/pipeline-call-gSV" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../pipeline-steps/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../outputs/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../js/version-select.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
